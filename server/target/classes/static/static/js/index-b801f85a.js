import{d as X,Y as Z,a as v,W as n,G as h,j as r,k as a,C as c,w as e,e as o,f as y,c as b,F as A,l as I,D as w,b as u,t as H,p as ee,q as te,y as oe,P as se,z as ae}from"./index-9e787fa5.js";import{g as ne}from"./plugin-e1dac962.js";import{i as T}from"./icon-caec1666.js";import{u as re}from"./useKeyboard.hook-61c9323f.js";import{u as ce}from"./useSync.hook-87506693.js";import{u as le,a as ie,H as d}from"./chartEditStore-56d3c83a.js";import{u as B,C as _}from"./chartLayoutStore-58ece452.js";import"./index-f6f97c94.js";import"./SettingItem-264e825b.js";/* empty css                                                                      */import"./SettingItemBox-ee4024ad.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js";import"./index.esm.min-33db7d4b.js";import"./fileTypeEnum-21359a08.js";import"./project-c1868b8d.js";const pe=l=>(ee("data-v-4e355215"),l=l(),te(),l),de={class:"save-btn"},_e=pe(()=>u("span",null,"保存",-1)),ue=X({__name:"index",setup(l){const{LayersIcon:E,BarChartIcon:L,PrismIcon:D,HomeIcon:x,ArrowBackIcon:F,ArrowForwardIcon:R}=T.ionicons5,{SaveIcon:K}=T.carbon,{setItem:z}=B(),{dataSyncUpdate:P,dataSyncDownloadJson:me}=ce(),{getLayers:N,getCharts:$,getDetails:M}=Z(B()),k=le(),g=ie(),W=v([{key:_.CHARTS,select:$,title:"图表组件",icon:n(L)},{key:_.LAYERS,select:N,title:"图层控制",icon:n(E)},{key:_.DETAILS,select:M,title:"详情设置",icon:n(D)}]),q=h(()=>g.getBackStack.length>1),O=h(()=>g.getForwardStack.length>0),V=v([{key:d.BACK_STACK,select:q,title:"后退",icon:n(F)},{key:d.FORWARD_STACK,select:O,title:"前进",icon:n(R)}]),Y=s=>s.key===_.DETAILS?s.select?"":"primary":s.select?"primary":"",j=s=>{z(s.key,!s.select)},G=s=>{switch(s.key){case d.BACK_STACK:k.setBack();break;case d.FORWARD_STACK:k.setForward();break}},J=()=>{oe(se.STATISTICAL_TEMPLATE_NAME)},U=()=>{ne({message:"确定已保存了数据（Ctrl / ⌘ + S），并返回到首页吗？",isMaskClosable:!0,onPositiveCallback:()=>{J(),re()}})};return(s,i)=>{const S=r("n-icon"),p=r("n-button"),m=r("n-tooltip"),f=r("n-divider"),C=r("n-space");return a(),c(C,{class:"header-left-btn",wrap:!1,size:25},{default:e(()=>[o(p,{size:"small",quaternary:"",onClick:i[0]||(i[0]=t=>U())},{icon:e(()=>[o(S,{depth:3},{default:e(()=>[o(y(x))]),_:1})]),_:1}),o(C,{wrap:!1},{default:e(()=>[(a(!0),b(A,null,I(W,t=>(a(),c(m,{key:t.key,placement:"bottom",trigger:"hover"},{trigger:e(()=>[o(p,{size:"small",ghost:"",type:Y(t),focusable:!1,onClick:Q=>j(t)},{default:e(()=>[(a(),c(w(t.icon)))]),_:2},1032,["type","onClick"])]),default:e(()=>[u("span",null,H(t.title),1)]),_:2},1024))),128)),o(f,{vertical:""}),(a(!0),b(A,null,I(V,t=>(a(),c(m,{key:t.key,placement:"bottom",trigger:"hover"},{trigger:e(()=>[o(p,{size:"small",ghost:"",type:"primary",disabled:!t.select,onClick:Q=>G(t)},{default:e(()=>[(a(),c(w(t.icon)))]),_:2},1032,["disabled","onClick"])]),default:e(()=>[u("span",null,H(t.title),1)]),_:2},1024))),128)),o(f,{vertical:""}),o(m,{placement:"bottom",trigger:"hover"},{trigger:e(()=>[u("div",de,[o(p,{size:"small",type:"primary",ghost:"",onClick:i[1]||(i[1]=t=>y(P)())},{icon:e(()=>[o(S,null,{default:e(()=>[o(y(K))]),_:1})]),_:1})])]),default:e(()=>[_e]),_:1})]),_:1})]),_:1})}}});const Ee=ae(ue,[["__scopeId","data-v-4e355215"]]);export{Ee as default};
