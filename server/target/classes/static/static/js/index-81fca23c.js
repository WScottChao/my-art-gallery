import{ap as A,aq as U,ar as n,W as a,r as V,as as E,at as B,au as N,d as G,c as $,b as k,e as c,w as m,f as l,F as j,j as h,k as z,av as u,z as K}from"./index-9e787fa5.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-1414f1f1.js";import{u as I,a as F}from"./chartEditStore-56d3c83a.js";import{l as Y}from"./plugin-e1dac962.js";import{i as g}from"./icon-caec1666.js";const Ie=(t,o)=>{!window.$vue.component(t)&&o&&window.$vue.component(t,o)},_=t=>A({loader:t,loadingComponent:U,delay:20}),{CopyIcon:q,CutIcon:X,ClipboardOutlineIcon:J,TrashIcon:Q,ChevronDownIcon:Z,ChevronUpIcon:ee,LockOpenOutlineIcon:te,LockClosedOutlineIcon:ne,EyeOutlineIcon:oe,EyeOffOutlineIcon:ae}=g.ionicons5,{UpToTopIcon:le,DownToBottomIcon:ie,PaintBrushIcon:re,Carbon3DSoftwareIcon:se,Carbon3DCursorIcon:ce}=g.carbon,e=I(),O=(t=3)=>({type:"divider",key:`d${t}`}),f=[{label:"锁定",key:n.LOCK,icon:a(ne),fnHandle:e.setLock},{label:"解锁",key:n.UNLOCK,icon:a(te),fnHandle:e.setUnLock},{label:"隐藏",key:n.HIDE,icon:a(ae),fnHandle:e.setHide},{label:"显示",key:n.SHOW,icon:a(oe),fnHandle:e.setShow},{type:"divider",key:"d0"},{label:"复制",key:n.COPY,icon:a(q),fnHandle:e.setCopy},{label:"剪切",key:n.CUT,icon:a(X),fnHandle:e.setCut},{label:"粘贴",key:n.PARSE,icon:a(J),fnHandle:e.setParse},{type:"divider",key:"d1"},{label:"置顶",key:n.TOP,icon:a(le),fnHandle:e.setTop},{label:"置底",key:n.BOTTOM,icon:a(ie),fnHandle:e.setBottom},{label:"上移",key:n.UP,icon:a(ee),fnHandle:e.setUp},{label:"下移",key:n.DOWN,icon:a(Z),fnHandle:e.setDown},{type:"divider",key:"d2"},{label:"清空剪贴板",key:n.CLEAR,icon:a(re),fnHandle:e.setRecordChart},{label:"删除",key:n.DELETE,icon:a(Q),fnHandle:e.removeComponentList}],y=[{label:"创建分组",key:n.GROUP,icon:a(se),fnHandle:e.setGroup},{label:"解除分组",key:n.UN_GROUP,icon:a(ce),fnHandle:e.setUnGroup}],de=[n.PARSE,n.CLEAR],S=(t,o)=>{if(!o)return t;const i=[];return o.forEach(d=>{i.push(...t.filter(r=>r.key===d))}),i},ue=(t,o)=>o?t.filter(i=>o.findIndex(d=>d!==i.key)!==-1):t,s=V([]),_e=(t,o,i,d,r)=>{t.stopPropagation(),t.preventDefault();let p=t.target;for(;p instanceof SVGElement;)p=p.parentNode;e.setTargetSelectChart(o&&o.id),e.setRightMenuShow(!1),e.getTargetChart.selectId.length>1?s.value=y:s.value=f,o||(s.value=S(E(s.value),de)),d&&(s.value=ue([...y,O(),...f],d)),r&&(s.value=S([...y,O(),...f],r)),i&&(s.value=i(B(E(s.value)),[...y,...f],o)),N().then(()=>{e.setMousePosition(t.clientX,t.clientY),e.setRightMenuShow(!0)})},fe=()=>(s.value=f,{menuOptions:s,defaultOptions:f,defaultMultiSelectOptions:y,handleContextMenu:_e,onClickOutSide:()=>{e.setRightMenuShow(!1)},handleMenuSelect:i=>{e.setRightMenuShow(!1);const d=s.value.filter(r=>r.key===i);s.value.forEach(r=>{if(r.key===i){if(r.fnHandle){r.fnHandle();return}d||Y()}})},mousePosition:e.getMousePosition}),pe={class:"go-chart"},me={style:{overflow:"hidden",display:"flex"}},ye=G({__name:"index",setup(t){const o=F(),i=I();o.canvasInit(i.getEditCanvas);const d=_(()=>u(()=>import("./index-b801f85a.js"),["./index-b801f85a.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./plugin-e1dac962.js","./icon-caec1666.js","./useKeyboard.hook-61c9323f.js","./chartEditStore-56d3c83a.js","./useSync.hook-87506693.js","./index-f6f97c94.js","./SettingItem-264e825b.js","..\\css\\StylesSetting-9288462a.css","./SettingItemBox-ee4024ad.js","./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js","./index.esm.min-33db7d4b.js","./fileTypeEnum-21359a08.js","..\\css\\index-3a660954.css","./chartLayoutStore-58ece452.js","./project-c1868b8d.js","..\\css\\index-f740eb62.css"],import.meta.url)),r=_(()=>u(()=>import("./index-128383bb.js"),["./index-128383bb.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./chartEditStore-56d3c83a.js","./plugin-e1dac962.js","./icon-caec1666.js","./useSyncUpdate.hook-95de8bac.js","./useSync.hook-87506693.js","./index-f6f97c94.js","./SettingItem-264e825b.js","..\\css\\StylesSetting-9288462a.css","./SettingItemBox-ee4024ad.js","./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js","./index.esm.min-33db7d4b.js","./fileTypeEnum-21359a08.js","..\\css\\index-3a660954.css","./chartLayoutStore-58ece452.js","./project-c1868b8d.js","..\\css\\index-d638ebb5.css"],import.meta.url)),p=_(()=>u(()=>import("./index-b5bf201f.js"),["./index-b5bf201f.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./icon-caec1666.js","./chartEditStore-56d3c83a.js","./plugin-e1dac962.js","./project-c1868b8d.js","./useSync.hook-87506693.js","./index-f6f97c94.js","./SettingItem-264e825b.js","..\\css\\StylesSetting-9288462a.css","./SettingItemBox-ee4024ad.js","./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js","./index.esm.min-33db7d4b.js","./fileTypeEnum-21359a08.js","..\\css\\index-3a660954.css","./chartLayoutStore-58ece452.js","..\\css\\index-4ac2d48c.css"],import.meta.url)),b=_(()=>u(()=>import("./index-ae233ebd.js"),["./index-ae233ebd.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./index-7a7f5976.js","./icon-caec1666.js","..\\css\\index-1620435b.css","./chartLayoutStore-58ece452.js","./chartEditStore-56d3c83a.js","./plugin-e1dac962.js","./index-f6f97c94.js","./SettingItem-264e825b.js","..\\css\\StylesSetting-9288462a.css","./SettingItemBox-ee4024ad.js","./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js","./index.esm.min-33db7d4b.js","./fileTypeEnum-21359a08.js","..\\css\\index-3a660954.css","./index.vue_vue_type_script_setup_true_lang-1414f1f1.js","./index-567c51a3.js","..\\css\\index-4c301dae.css","..\\css\\index-7cd8e5c8.css","..\\css\\index-3c92e0e2.css"],import.meta.url)),w=_(()=>u(()=>import("./index-37c015cf.js").then(C=>C.i),["./index-37c015cf.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./index-7a7f5976.js","./icon-caec1666.js","..\\css\\index-1620435b.css","./index-f6f97c94.js","./SettingItem-264e825b.js","..\\css\\StylesSetting-9288462a.css","./SettingItemBox-ee4024ad.js","./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js","./chartEditStore-56d3c83a.js","./plugin-e1dac962.js","./index.esm.min-33db7d4b.js","./fileTypeEnum-21359a08.js","..\\css\\index-3a660954.css","./chartLayoutStore-58ece452.js","..\\css\\index-9f234a8a.css"],import.meta.url)),H=_(()=>u(()=>import("./index-c4bcdbf5.js"),["./index-c4bcdbf5.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./icon-caec1666.js","./index-7a7f5976.js","..\\css\\index-1620435b.css","./chartLayoutStore-58ece452.js","./chartEditStore-56d3c83a.js","./plugin-e1dac962.js","./index.vue_vue_type_script_setup_true_lang-1414f1f1.js","./index-567c51a3.js","..\\css\\index-4c301dae.css","..\\css\\index-7cd8e5c8.css","..\\css\\index-2dbe9084.css"],import.meta.url)),P=_(()=>u(()=>import("./index-cdf7b12a.js"),["./index-cdf7b12a.js","./chartLayoutStore-58ece452.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./chartEditStore-56d3c83a.js","./plugin-e1dac962.js","./icon-caec1666.js"],import.meta.url)),{menuOptions:T,onClickOutSide:R,mousePosition:v,handleMenuSelect:x}=fe();return(C,ve)=>{const D=h("n-layout-content"),L=h("n-layout"),M=h("n-dropdown");return z(),$(j,null,[k("div",pe,[c(L,null,{default:m(()=>[c(l(W),null,{left:m(()=>[c(l(d))]),center:m(()=>[c(l(p))]),"ri-left":m(()=>[c(l(r))]),_:1}),c(D,{"content-style":"overflow:hidden; display: flex"},{default:m(()=>[k("div",me,[c(l(w)),c(l(b))]),c(l(H))]),_:1})]),_:1})]),c(M,{placement:"bottom-start",trigger:"manual",size:"small",x:l(v).x,y:l(v).y,options:l(T),show:l(i).getRightMenuShow,"on-clickoutside":l(R),onSelect:l(x)},null,8,["x","y","options","show","on-clickoutside","onSelect"]),c(l(P))],64)}}});const he=K(ye,[["__scopeId","data-v-0d90f270"]]),ge=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));export{Ie as c,O as d,ge as i,_ as l,fe as u};
