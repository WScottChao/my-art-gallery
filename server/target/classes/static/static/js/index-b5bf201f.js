var v=(d,c,a)=>new Promise((_,o)=>{var i=t=>{try{r(a.next(t))}catch(s){o(s)}},e=t=>{try{r(a.throw(t))}catch(s){o(s)}},r=t=>t.done?_(t.value):Promise.resolve(t.value).then(i,e);r((a=a.apply(d,c)).next())});import{d as P,r as m,aU as h,bh as I,G as R,aN as T,j as u,k as b,C as j,w as p,e as l,f as k,n as B,Q as E,b as U,t as z,U as x,m as A,au as M,R as V,a5 as D,z as F}from"./index-9e787fa5.js";import{i as J}from"./icon-caec1666.js";import{u as K,E as O,P as G}from"./chartEditStore-56d3c83a.js";import{u as H}from"./project-c1868b8d.js";import{u as L}from"./useSync.hook-87506693.js";import"./plugin-e1dac962.js";import"./index-f6f97c94.js";import"./SettingItem-264e825b.js";/* empty css                                                                      */import"./SettingItemBox-ee4024ad.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js";import"./index.esm.min-33db7d4b.js";import"./fileTypeEnum-21359a08.js";import"./chartLayoutStore-58ece452.js";const Q={class:"title"},$=P({__name:"index",setup(d){const c=K(),{dataSyncUpdate:a}=L(),{FishIcon:_}=J.ionicons5,o=m(!1),i=m(null),e=m(h());I(()=>{e.value=c.getProjectInfo.projectName||""});const r=R(()=>{e.value=e.value.replace(/\s/g,"");const n=e.value.length?e.value:"新项目";return T(`工作空间-${n}`),c.setEditCanvasConfig(O.PROJECT_NAME,n),n}),t=()=>{o.value=!0,M(()=>{i.value&&i.value.focus()})},s=()=>v(this,null,function*(){o.value=!1,c.setProjectInfo(G.PROJECT_NAME,e.value||"");const n=yield H({id:h(),templateName:e.value});n&&n.code===V.SUCCESS?a():D()});return(n,f)=>{const C=u("n-icon"),y=u("n-button"),w=u("n-text"),S=u("n-input"),g=u("n-space");return b(),j(g,null,{default:p(()=>[l(C,{size:"20",depth:3},{default:p(()=>[l(k(_))]),_:1}),l(w,{onClick:t},{default:p(()=>[B(" 工作空间 - "),E(l(y,{secondary:"",size:"tiny"},{default:p(()=>[U("span",Q,z(r.value),1)]),_:1},512),[[x,!o.value]])]),_:1}),E(l(S,{ref_key:"inputInstRef",ref:i,size:"small",type:"text",maxlength:"16","show-count":"",placeholder:"请输入项目名称",value:e.value,"onUpdate:value":f[0]||(f[0]=N=>e.value=N),valueModifiers:{trim:!0},onKeyup:A(s,["enter"]),onBlur:s},null,8,["value"]),[[x,o.value]])]),_:1})}}});const le=F($,[["__scopeId","data-v-b5e771ed"]]);export{le as default};
