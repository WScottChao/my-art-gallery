var F=(o,c,d)=>new Promise((r,_)=>{var T=l=>{try{f(d.next(l))}catch(i){_(i)}},m=l=>{try{f(d.throw(l))}catch(i){_(i)}},f=l=>l.done?r(l.value):Promise.resolve(l.value).then(T,m);f((d=d.apply(o,c)).next())});import{d as U,E as Z,G as q,r as O,H as ee,j as n,k as s,C as p,w as e,e as t,n as V,t as C,D as L,f as a,c as R,l as G,F as W,I as te,J as oe,R as ne,L as ae,M as le,N as se,z,O as ce,b as A,Q as $,U as D,a as re,V as y,W as b,P as v,X as g,Y as _e,Z as ie,A as de,o as ue,$ as pe,a0 as me,p as fe,q as ve,a1 as ye,K as Te}from"./index-9e787fa5.js";import{i as M}from"./icon-caec1666.js";import{c as he}from"./project-c1868b8d.js";import{_ as be}from"./index.vue_vue_type_script_setup_true_lang-1414f1f1.js";import"./index-567c51a3.js";const Se=U({__name:"index",props:{show:Boolean},emits:["close"],setup(o,{emit:c}){const{FishIcon:d,CloseIcon:r}=M.ionicons5,{StoreIcon:_,ObjectStorageIcon:T}=M.carbon,m=Z(),f=q(()=>({template_type_list_synthesis:m.template_type_list_synthesis,template_type_list_basic:m.template_type_list_basic})),l=O(null),i=O(!1),S=c,E=o;ee(()=>E.show,I=>{i.value=I});const j=()=>{l.value=null,S("close",!1)},B=()=>F(this,null,function*(){var I,h;try{if(!l.value){window.$message.error(window.$t("project.create_tip"));return}let k={templateName:oe(),typeId:(I=l.value)==null?void 0:I.id,templateType:(h=l.value)==null?void 0:h.type,indexImage:""};const w=yield he(k);if(w&&w.code===ne.SUCCESS){window.$message.success(window.$t("project.create_success"));const{id:N}=w.data,P=ae(le.CHART_HOME_NAME,"href");se(P,[N],void 0,!0),j()}}catch(k){window.$message.error(window.$t("project.create_failure"))}});return(I,h)=>{const k=n("n-text"),w=n("n-icon"),N=n("n-radio"),P=n("n-radio-group"),H=n("n-form-item"),J=n("n-button"),K=n("n-space"),Q=n("n-form"),X=n("n-card"),Y=n("n-modal");return s(),p(Y,{show:i.value,"onUpdate:show":h[2]||(h[2]=u=>i.value=u),class:"go-create-modal",onAfterLeave:j},{default:e(()=>[t(K,{size:"large"},{default:e(()=>[t(X,{class:"card-box",hoverable:""},{header:e(()=>[t(k,{class:"card-box-tite"},{default:e(()=>[V(C(I.$t("project.create_tip")),1)]),_:1})]),"header-extra":e(()=>[t(k,{onClick:j},{default:e(()=>[t(w,{size:"20"},{default:e(()=>[(s(),p(L(a(r))))]),_:1})]),_:1})]),action:e(()=>[]),default:e(()=>[t(K,{class:"card-box-content",justify:"center"},{default:e(()=>[t(Q,{"label-placement":"left"},{default:e(()=>[t(H,{label:"基础类型："},{default:e(()=>[t(P,{value:l.value,"onUpdate:value":h[0]||(h[0]=u=>l.value=u),name:"radiobuttongroup_jclx"},{default:e(()=>[(s(!0),R(W,null,G(f.value.template_type_list_basic,u=>(s(),p(N,{key:u.id,value:u},{default:e(()=>[V(C(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),t(H,{label:"综合类型："},{default:e(()=>[t(P,{value:l.value,"onUpdate:value":h[1]||(h[1]=u=>l.value=u),name:"radiobuttongroup_zhlx"},{default:e(()=>[(s(!0),R(W,null,G(f.value.template_type_list_synthesis,u=>(s(),p(N,{key:u.id,value:u},{default:e(()=>[V(C(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),t(H,null,{default:e(()=>[t(K,{class:"card-box-content",justify:"center"},{default:e(()=>[t(J,{size:"large",onClick:B},{icon:e(()=>[t(w,{size:"18"},{default:e(()=>[(s(),p(L(a(T))))]),_:1})]),default:e(()=>[(s(),p(L(a(te)("project.new_project"))))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}});const Ie=z(Se,[["__scopeId","data-v-1d2ba8db"]]),we=U({__name:"index",props:{collapsed:Boolean},setup(o){const{DuplicateIcon:c,DuplicateOutlineIcon:d}=M.ionicons5,r=ce(),_=O(!1),T=()=>{_.value=!0},m=()=>{_.value=!1};return(f,l)=>{const i=n("n-icon"),S=n("n-button"),E=n("n-tooltip");return s(),R(W,null,[A("div",{onClick:T},[o.collapsed?(s(),p(E,{key:0,placement:"right",trigger:"hover"},{trigger:e(()=>[t(S,{ghost:"",type:"primary",size:"small"},{icon:e(()=>[t(i,null,{default:e(()=>[$(t(a(d),null,null,512),[[D,a(r).getDarkTheme]]),$(t(a(c),null,null,512),[[D,!a(r).getDarkTheme]])]),_:1})]),_:1})]),default:e(()=>[A("span",null,C(f.$t("project.create_btn")),1)]),_:1})):(s(),p(S,{key:1,ghost:"",type:"primary"},{icon:e(()=>[t(i,null,{default:e(()=>[$(t(a(d),null,null,512),[[D,a(r).getDarkTheme]]),$(t(a(c),null,null,512),[[D,!a(r).getDarkTheme]])]),_:1})]),default:e(()=>[A("span",null,C(f.$t("project.create_btn")),1)]),_:1}))]),t(a(Ie),{show:_.value,onClose:m},null,8,["show"])],64)}}}),{GridIcon:We,TvOutlineIcon:x}=M.ionicons5,{StoreIcon:ge,ObjectStorageIcon:Ae,DevicesIcon:Ee}=M.carbon,je=()=>["all-project","template","statistical"],ke=()=>{const o=window.$t;return re([{key:"divider-1",type:"divider"},{label:()=>y("span",null,{default:()=>o("project.com_template_library")}),key:"template",icon:b(ge),children:[{type:"group",label:()=>y("span",null,{default:()=>o("project.product_library")}),key:"my-project",children:[{label:()=>y(g,{to:{name:v.COM_STATISTICAL_PRODUCT_LIST_NAME}},{default:()=>o("project.com_statistical_product_list")}),key:v.COM_STATISTICAL_PRODUCT_LIST_NAME,icon:b(x)}]},{type:"group",label:()=>y("span",null,{default:()=>o("project.template_library")}),key:"my-project",children:[{label:()=>y(g,{to:{name:v.BASIS_TEMPLETE_NAME}},{default:()=>o("project.basis_templete")}),key:v.BASIS_TEMPLETE_NAME,icon:b(Ae)},{label:()=>y(g,{to:{name:v.COMPREHENSIVE_TEMPLATE_NAME}},{default:()=>o("project.comprehensive_template")}),key:v.COMPREHENSIVE_TEMPLATE_NAME,icon:b(x)}]}]},{key:"divider-2",type:"divider"},{label:()=>y("span",null,{default:()=>o("project.my")}),key:"statistical",icon:b(Ee),children:[{label:()=>y(g,{to:{name:v.STATISTICAL_TEMPLATE_NAME}},{default:()=>o("project.statistical_template")}),key:v.STATISTICAL_TEMPLATE_NAME,icon:b(x)},{label:()=>y(g,{to:{name:v.STATISTICAL_TASK_LIST_NAME}},{default:()=>o("project.statistical_task_list")}),key:v.STATISTICAL_TASK_LIST_NAME,icon:b(x)},{label:()=>y(g,{to:{name:v.STATISTICAL_PRODUCT_LIST_NAME}},{default:()=>o("project.statistical_product_list")}),key:v.STATISTICAL_PRODUCT_LIST_NAME,icon:b(x)}]}])},xe=o=>(fe("data-v-494f6b59"),o=o(),ve(),o),Ce={class:"go-project-sider-flex"},Le=xe(()=>A("div",{class:"sider-bottom"},null,-1)),Me=U({__name:"index",setup(o){const c=O(!1),{getAsideCollapsedWidth:d}=_e(ie()),r=de(),_=q(()=>r.name),T=ke(),m=je(),f=()=>{document.body.clientWidth<=950?c.value=!0:c.value=!1};return ue(()=>{window.addEventListener("resize",f)}),pe(()=>{window.removeEventListener("resize",f)}),(l,i)=>{const S=n("n-space"),E=n("n-menu"),j=n("n-layout-sider");return s(),p(j,{class:"go-project-sider",bordered:"","collapse-mode":"width","show-trigger":"bar",collapsed:c.value,"native-scrollbar":!1,"collapsed-width":a(d),width:a(me),onCollapse:i[0]||(i[0]=B=>c.value=!0),onExpand:i[1]||(i[1]=B=>c.value=!1)},{default:e(()=>[A("div",Ce,[A("aside",null,[t(S,{vertical:"",class:"go-project-sider-top"},{default:e(()=>[t(a(we),{collapsed:c.value},null,8,["collapsed"])]),_:1}),t(E,{value:_.value,options:a(T),"collapsed-width":a(d),"collapsed-icon-size":22,"default-expanded-keys":a(m)},null,8,["value","options","collapsed-width","default-expanded-keys"])]),Le])]),_:1},8,["collapsed","collapsed-width","width"])}}});const Ne=z(Me,[["__scopeId","data-v-494f6b59"]]),Pe={};function $e(o,c){const d=n("router-view");return s(),p(d,null,{default:e(({Component:r,route:_})=>[t(ye,{name:"fade",mode:"out-in",appear:""},{default:e(()=>[_.meta.noKeepAlive?(s(),p(L(r),{key:_.fullPath})):(s(),p(Te,{key:1},[(s(),p(L(r),{key:_.fullPath}))],1024))]),_:2},1024)]),_:1})}const De=z(Pe,[["render",$e]]),Oe={class:"go-project"},Re=U({__name:"index",setup(o){return(c,d)=>{const r=n("n-space"),_=n("router-view"),T=n("n-layout-content"),m=n("n-layout");return s(),R("div",Oe,[t(m,{"has-sider":"",position:"absolute"},{default:e(()=>[t(r,{vertical:""},{default:e(()=>[t(a(Ne))]),_:1}),t(m,null,{default:e(()=>[t(a(be)),t(m,{id:"go-project-content-top",class:"content-top",position:"absolute","native-scrollbar":!1},{default:e(()=>[t(T,null,{default:e(()=>[t(a(De),null,{default:e(()=>[t(_)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}});const Fe=z(Re,[["__scopeId","data-v-5ac683c2"]]);export{Fe as default};
