var z=(p,l,u)=>new Promise((f,m)=>{var h=a=>{try{c(u.next(a))}catch(d){m(d)}},e=a=>{try{c(u.throw(a))}catch(d){m(d)}},c=a=>a.done?f(a.value):Promise.resolve(a.value).then(h,e);c((u=u.apply(p,l)).next())});import{d as A,Z as ve,G as he,a as fe,r as y,H as N,j as g,k as b,c as T,Q as E,U as L,e as i,f as s,b as O,w as v,av as ye,z as D,O as Ce,Y as be,bp as Se,bn as te,bq as Oe,$ as ke,br as Ie,F as K,l as Y,C as P,n as Q,t as W,ab as B,ba as xe,p as we,q as Te,W as k,aa as Ee,a7 as He}from"./index-9e787fa5.js";import{C as Ne}from"./index-7a7f5976.js";import{l as Le,c as Z}from"./index-81fca23c.js";import{c as oe,b as Pe,_ as Ae,f as $e,d as Re,e as ze}from"./index-f6f97c94.js";import{a as Be,b as Fe,l as De}from"./plugin-e1dac962.js";import{i as V}from"./icon-caec1666.js";import{u as M,a as J,C as F}from"./chartLayoutStore-58ece452.js";import{u as Ve,b as I,c as x}from"./chartEditStore-56d3c83a.js";const Me={class:"go-chart-common"},Ue={class:"chart-content-list"},Ge=A({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(p){const l=Le(()=>ye(()=>import("./index-619133d4.js"),["./index-619133d4.js","./index-5e830f33.js","./index-9e787fa5.js","..\\css\\index-28fc6980.css","./icon-caec1666.js","..\\css\\index-4f708ca2.css","./chartEditStore-56d3c83a.js","./plugin-e1dac962.js","./chartLayoutStore-58ece452.js","./index-f6f97c94.js","./SettingItem-264e825b.js","..\\css\\StylesSetting-9288462a.css","./SettingItemBox-ee4024ad.js","./CollapseItem.vue_vue_type_script_setup_true_lang-374cf080.js","./index.esm.min-33db7d4b.js","./fileTypeEnum-21359a08.js","..\\css\\index-3a660954.css","./index-81fca23c.js","./index.vue_vue_type_script_setup_true_lang-1414f1f1.js","./index-567c51a3.js","..\\css\\index-4c301dae.css","..\\css\\index-7cd8e5c8.css","..\\css\\index-0c58fa27.css","./index-7a7f5976.js","..\\css\\index-1620435b.css","..\\css\\index-799bc0fb.css"],import.meta.url)),u=oe(),f=p,m=ve(),h=he(()=>e.categorysNum>2?!0:!m.getHidePackageOneCategory);let e=fe({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"所有"},categorysNum:0,saveSelectOptions:{}});const c=y("all"),a=o=>{for(const n in o){e.selectOptions=o[n];break}};N(()=>f.selectOptions,o=>{if(e.categorysNum=0,!!o){o.list.forEach(n=>{const S=e.categorys[n.category];e.categorys[n.category]=S&&S.length?[...S,n]:[n],e.categoryNames[n.category]=n.categoryName,e.categorys.all.push(n)});for(const n in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:n,label:e.categoryNames[n]});a(e.categorys),c.value=e.menuOptions[0].key}},{immediate:!0}),N(()=>u.newPhoto,o=>{if(!o)return;const n=o.category;e.categorys[n].splice(1,0,o),e.categorys.all.splice(1,0,o)});const d=(o,n)=>{e.categorys[o.category].splice(n,1),e.categorys.all.splice(n,1)},C=o=>{e.selectOptions=e.categorys[o]};return(o,n)=>{const S=g("n-menu"),U=g("n-scrollbar");return b(),T("div",Me,[E(i(S,{class:"chart-menu-width",value:c.value,"onUpdate:value":[n[0]||(n[0]=$=>c.value=$),C],options:s(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[L,h.value]]),O("div",Ue,[i(U,{trigger:"none"},{default:v(()=>[i(s(l),{menuOptions:s(e).selectOptions,onDeletePhoto:d},null,8,["menuOptions"])]),_:1})])])}}});const qe=D(Ge,[["__scopeId","data-v-00605800"]]),je=Ce(),ne=y(je.getAppTheme),{setItem:X}=M(),{getCharts:ee}=be(M()),Ke={class:"list-img",alt:"图表图片"},Ye=A({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(p){const l=p,u=y(""),f=()=>z(this,null,function*(){u.value=yield Pe(l.chartConfig)});return N(()=>l.chartConfig.key,()=>f(),{immediate:!0}),(m,h)=>{const e=Se("lazy");return E((b(),T("img",Ke,null,512)),[[e,u.value]])}}}),Qe=p=>(we("data-v-833c2b76"),p=p(),Te(),p),We={class:"go-chart-search-box"},Ze={class:"search-list-box"},Je=["title","onClick"],Xe=Qe(()=>O("div",{class:"popover-modal"},null,-1)),et=A({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(p){te(t=>({"42a060ac":s(ne)}));const l=p,u=Ve(),f=M(),{SearchIcon:m,AlbumsIcon:h,GridIcon:e}=V.ionicons5,c=y(!1),a=y(!1),d=y(void 0),C=y(null),o=y([]),n=y(f.getChartType),S=[{label:"单列",icon:h,value:J.SINGLE},{label:"双列",icon:e,value:J.DOUBLE}],$=(t=>{const r=[];for(const H of t)r.push(...H.list);return r})(l.menuOptions),R=()=>{d.value=void 0,a.value=!1,C.value=null,o.value=[]},se=t=>{if(!xe(t)||!t.length){R();return}d.value=!0,a.value=!0,o.value=$.filter(r=>!r.disabled&&(!t||r.title.toLowerCase().includes(t.toLowerCase()))),setTimeout(()=>{d.value=void 0},500)},G=t=>{a.value&&t.target&&(t.target.closest(".go-chart-search")||R())},ae=t=>z(this,null,function*(){if(!t.disabled)try{Be(),Z(t.chartKey,$e(t)),Z(t.conKey,Re(t));let r=yield ze(t);t.redirectComponent&&(t.dataset&&(r.option.dataset=t.dataset),r.chartConfig.title=t.title,r.chartConfig.chartFrame=t.chartFrame),u.addComponentList(r,!1,!0),u.setTargetSelectChart(r.id),R(),Fe()}catch(r){De(),window.$message.warning("图表正在研发中, 敬请期待...")}}),q=t=>{c.value=t},ce=t=>{n.value=t,f.setItem(F.Chart_TYPE,t)};return Oe(document,"click",t=>{G(t)}),ke(()=>{Ie(document,"click",G)}),(t,r)=>{const H=g("n-icon"),le=g("n-input"),re=g("n-input-group"),ie=g("n-empty"),ue=g("n-text"),pe=g("n-scrollbar"),de=g("n-popover"),_e=g("n-tooltip"),me=g("n-button"),ge=g("n-button-group");return b(),T("div",We,[O("div",{class:B(["chart-search go-transition",{"chart-search-focus":c.value}])},[i(de,{class:"chart-search-popover","show-arrow":!1,show:a.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:v(()=>[i(re,null,{default:v(()=>[i(le,{size:"small",placeholder:"搜索组件",value:C.value,"onUpdate:value":[r[0]||(r[0]=_=>C.value=_),se],valueModifiers:{trim:!0},loading:d.value,onFocus:r[1]||(r[1]=_=>q(!0)),onBlur:r[2]||(r[2]=_=>q(!1))},{suffix:v(()=>[E(i(H,{component:s(m)},null,8,["component"]),[[L,!d.value]])]),_:1},8,["value","loading"])]),_:1})]),default:v(()=>[O("div",Ze,[i(pe,{style:{"max-height":"500px"}},{default:v(()=>[E(i(ie,{size:"small",description:"没有找到组件~"},null,512),[[L,!o.value.length]]),(b(!0),T(K,null,Y(o.value,_=>(b(),T("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:_.key,title:_.title,onClick:j=>ae(_)},[_.icon?(b(),P(s(Ae),{key:0,class:"list-img",icon:_.icon,color:"#999",width:"20"},null,8,["icon"])):(b(),P(s(Ye),{key:1,class:"list-item-img",chartConfig:_},null,8,["chartConfig"])),i(ue,{class:"list-item-fs",depth:"2"},{default:v(()=>[Q(W(_.title),1)]),_:2},1024)],8,Je))),128))]),_:1}),Xe])]),_:1},8,["show"])],2),i(ge,{class:B(["btn-group go-transition",{"btn-group-focus":c.value}]),style:{display:"flex"}},{default:v(()=>[(b(),T(K,null,Y(S,(_,j)=>i(me,{ghost:"",size:"small",key:j,type:n.value===_.value?"primary":"tertiary",onClick:mt=>ce(_.value)},{default:v(()=>[i(_e,{"show-arrow":!1,trigger:"hover"},{trigger:v(()=>[i(H,{size:"14",component:_.icon},null,8,["component"])]),default:v(()=>[Q(" "+W(_.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});const tt=D(et,[["__scopeId","data-v-833c2b76"]]),{AirPlaneOutlineIcon:ot,ImageIcon:nt,BarChartIcon:st}=V.ionicons5,{TableSplitIcon:at,RoadmapIcon:ct,SpellCheckIcon:lt,GraphicalDataFlowIcon:rt}=V.carbon,w={[I.CHARTS]:{icon:k(ct),label:x.CHARTS},[I.INFORMATIONS]:{icon:k(lt),label:x.INFORMATIONS},[I.TABLES]:{icon:k(at),label:x.TABLES},[I.DECORATES]:{icon:k(rt),label:x.DECORATES},[I.PHOTOS]:{icon:k(nt),label:x.PHOTOS},[I.ICONS]:{icon:k(ot),label:x.ICONS}},it=()=>{const p=oe();let l=y([]),u=y("");const f=y(""),m=y(),h=()=>{var c,a,d,C;l.value=[];for(const o in p.getPackagesList){let n={key:o,icon:((c=w==null?void 0:w[o])==null?void 0:c.icon)||"",label:((a=w==null?void 0:w[o])==null?void 0:a.label)||((C=(d=p.getPackagesList[o])==null?void 0:d[0])==null?void 0:C.packageName)||o,list:p.getPackagesList[o]};n.icon||delete n.icon,l.value.push(n)}l.value.length&&(u.value=l.value[0].key,f.value=l.value[0].key,m.value=l.value[0])};return N(()=>p.getPackagesList,()=>{h()},{deep:!0,immediate:!0}),{getCharts:ee,BarChartIcon:st,themeColor:ne,selectOptions:m,selectValue:f,clickItemHandle:(c,a)=>{m.value=a,u.value===c?X(F.CHARTS,!ee.value,!1):X(F.CHARTS,!0,!1),u.value=c},menuOptions:l,handlePackagesList:h}},ut={class:"menu-width-box"},pt={class:"menu-component-box"},dt=A({__name:"index",setup(p){te(a=>({a65d33fe:s(f)}));const{getCharts:l,BarChartIcon:u,themeColor:f,selectOptions:m,selectValue:h,clickItemHandle:e,menuOptions:c}=it();return(a,d)=>{const C=g("n-icon"),o=g("n-menu"),n=g("go-skeleton");return b(),P(s(Ne),{class:B(["go-content-charts",{scoped:!s(l)}]),title:"组件",depth:1,backIcon:!1},{icon:v(()=>[i(C,{size:"14",depth:2},{default:v(()=>[i(s(u))]),_:1})]),"top-right":v(()=>[E(i(s(tt),{menuOptions:s(c)},null,8,["menuOptions"]),[[L,s(l)]])]),default:v(()=>[O("aside",null,[O("div",ut,[i(o,{class:"menu-width",value:s(h),"onUpdate:value":[d[0]||(d[0]=S=>Ee(h)?h.value=S:null),s(e)],options:s(c),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),O("div",pt,[i(n,{load:!s(m),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),s(m)?(b(),P(s(qe),{selectOptions:s(m),key:s(h)},null,8,["selectOptions"])):He("",!0)])])])]),_:1},8,["class"])}}});const _t=D(dt,[["__scopeId","data-v-f892928e"]]),kt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"}));export{Ye as _,kt as i};
